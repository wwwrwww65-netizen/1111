[{"/workspace/apps/web/src/app/account/page.tsx":"1","/workspace/apps/web/src/app/api/products/route.ts":"2","/workspace/apps/web/src/app/cart/page.tsx":"3","/workspace/apps/web/src/app/categories/page.tsx":"4","/workspace/apps/web/src/app/checkout/page.tsx":"5","/workspace/apps/web/src/app/layout.tsx":"6","/workspace/apps/web/src/app/not-found.tsx":"7","/workspace/apps/web/src/app/page.tsx":"8","/workspace/apps/web/src/app/products/[id]/page.tsx":"9","/workspace/apps/web/src/app/providers.tsx":"10","/workspace/apps/web/src/app/search/page.tsx":"11","/workspace/apps/web/src/app/wishlist/page.tsx":"12","/workspace/apps/web/src/components/CategoryGrid.tsx":"13","/workspace/apps/web/src/components/FooterCompact.tsx":"14","/workspace/apps/web/src/components/Header.tsx":"15","/workspace/apps/web/src/components/HeroBanner.tsx":"16","/workspace/apps/web/src/components/LoadingOverlay.tsx":"17","/workspace/apps/web/src/components/MobileBottomNav.tsx":"18","/workspace/apps/web/src/components/PromoBanners.tsx":"19","/workspace/apps/web/src/components/PromoBar.tsx":"20","/workspace/apps/web/src/components/Recommendations.tsx":"21","/workspace/apps/web/src/components/SectionGrid.tsx":"22","/workspace/apps/web/src/components/SkeletonCard.tsx":"23","/workspace/apps/web/src/components/TabsSection.tsx":"24","/workspace/apps/web/src/lib/i18n.tsx":"25"},{"size":1090,"mtime":1757017823819,"results":"26","hashOfConfig":"27"},{"size":658,"mtime":1757017823819,"results":"28","hashOfConfig":"27"},{"size":3803,"mtime":1757017823819,"results":"29","hashOfConfig":"27"},{"size":1839,"mtime":1757017823819,"results":"30","hashOfConfig":"27"},{"size":4082,"mtime":1757017823819,"results":"31","hashOfConfig":"27"},{"size":1120,"mtime":1757017823819,"results":"32","hashOfConfig":"27"},{"size":482,"mtime":1757017823819,"results":"33","hashOfConfig":"27"},{"size":3827,"mtime":1757017823819,"results":"34","hashOfConfig":"27"},{"size":8153,"mtime":1757017823819,"results":"35","hashOfConfig":"27"},{"size":1768,"mtime":1757017823819,"results":"36","hashOfConfig":"27"},{"size":5334,"mtime":1757017823819,"results":"37","hashOfConfig":"27"},{"size":1721,"mtime":1757017823819,"results":"38","hashOfConfig":"27"},{"size":1523,"mtime":1757017823819,"results":"39","hashOfConfig":"27"},{"size":1465,"mtime":1757017823819,"results":"40","hashOfConfig":"27"},{"size":4062,"mtime":1757017823819,"results":"41","hashOfConfig":"27"},{"size":473,"mtime":1757017823819,"results":"42","hashOfConfig":"27"},{"size":671,"mtime":1757017823819,"results":"43","hashOfConfig":"27"},{"size":3733,"mtime":1757017823819,"results":"44","hashOfConfig":"27"},{"size":878,"mtime":1757017823819,"results":"45","hashOfConfig":"27"},{"size":287,"mtime":1757017823819,"results":"46","hashOfConfig":"27"},{"size":1009,"mtime":1757017823819,"results":"47","hashOfConfig":"27"},{"size":1023,"mtime":1757017823819,"results":"48","hashOfConfig":"27"},{"size":395,"mtime":1757017823819,"results":"49","hashOfConfig":"27"},{"size":1653,"mtime":1757017823819,"results":"50","hashOfConfig":"27"},{"size":2735,"mtime":1757017823819,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"l1nmfi",{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/workspace/apps/web/src/app/account/page.tsx",[],"/workspace/apps/web/src/app/api/products/route.ts",[],"/workspace/apps/web/src/app/cart/page.tsx",[],"/workspace/apps/web/src/app/categories/page.tsx",[],"/workspace/apps/web/src/app/checkout/page.tsx",[],"/workspace/apps/web/src/app/layout.tsx",[],"/workspace/apps/web/src/app/not-found.tsx",[],"/workspace/apps/web/src/app/page.tsx",["105"],"\"use client\";\nimport { trpc } from \"./providers\";\nimport { ProductCard } from \"@repo/ui\";\nimport React from \"react\";\nimport { LoadingOverlay } from \"../components/LoadingOverlay\";\nimport { PromoBar } from \"../components/PromoBar\";\nimport { HeroBanner } from \"../components/HeroBanner\";\nimport { CategoryGrid } from \"../components/CategoryGrid\";\nimport { SectionGrid } from \"../components/SectionGrid\";\nimport { PromoBanners } from \"../components/PromoBanners\";\nimport { TabsSection } from \"../components/TabsSection\";\nimport { Recommendations } from \"../components/Recommendations\";\nimport { FooterCompact } from \"../components/FooterCompact\";\nimport { SkeletonCard } from \"../components/SkeletonCard\";\nimport { HtmlLangDir } from \"../lib/i18n\";\n\nexport default function Page(): JSX.Element {\n  const query: any = (trpc as any);\n  const now = new Date();\n  const { data, isLoading, error, fetchNextPage, hasNextPage } = query.products.list.useInfiniteQuery(\n    { limit: 12 },\n    { getNextPageParam: (lastPage: any) => lastPage.nextCursor }\n  );\n\n  const [fallbackProducts, setFallbackProducts] = React.useState<any[] | null>(null as any);\n  React.useEffect(() => {\n    let aborted = false;\n    const fetchFallback = async () => {\n      try {\n        const res = await fetch('/api/products', { cache: 'no-store' });\n        if (!aborted && res.ok) {\n          const json = await res.json();\n          const items = json?.items || [];\n          if (items.length) setFallbackProducts(items);\n        }\n      } catch {}\n    };\n    fetchFallback();\n    const timer = setTimeout(() => { if (!fallbackProducts) fetchFallback(); }, 1200);\n    return () => { aborted = true; clearTimeout(timer); };\n  }, []);\n\n  if (isLoading && !fallbackProducts) return <>\n    <main className=\"p-8\">Loading products...</main>\n    <LoadingOverlay />\n  </>;\n  if (error && !fallbackProducts) return <main className=\"p-8\">Error: {(error as any).message}</main>;\n\n  const products = fallbackProducts ?? (data?.pages.flatMap((p: any) => p.items) ?? []);\n\n  return (\n    <main className=\"min-h-screen p-0 md:p-6 max-w-7xl mx-auto\">\n      <HtmlLangDir />\n      <PromoBar />\n      <HeroBanner />\n      <CategoryGrid />\n\n      <section className=\"mt-6\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-xl md:text-2xl font-bold\">وصل حديثاً</h2>\n          {hasNextPage && (\n            <button onClick={() => fetchNextPage()} className=\"text-sm underline\">المزيد</button>\n          )}\n        </div>\n        <div className=\"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4\">\n          {(!products?.length ? Array.from({ length: 10 }) : products).map((p: any, idx: number) => (\n            !products?.length ? (\n              <SkeletonCard key={idx} />\n            ) : (\n              <ProductCard\n                key={p.id}\n                product={{\n                  id: p.id,\n                  name: p.name,\n                  description: p.description,\n                  price: p.price,\n                  images: p.images,\n                  stock: p.stockQuantity,\n                  rating: 0,\n                  reviewCount: 0,\n                }}\n                onViewDetails={(id) => (window.location.href = `/products/${id}`)}\n              />\n            )\n          ))}\n        </div>\n      </section>\n\n      <PromoBanners />\n\n      {!!products?.length && (\n        <>\n          <TabsSection\n            newArrivals={products.slice(0, 10)}\n            bestSellers={products.slice(5, 15)}\n            recommended={products.slice(2, 12)}\n          />\n          <Recommendations products={products.slice(0, 12)} />\n          <SectionGrid title=\"الأكثر مبيعاً\" products={products.slice(0, 10)} />\n        </>\n      )}\n\n      <FooterCompact />\n    </main>\n  );\n}\n","/workspace/apps/web/src/app/products/[id]/page.tsx",[],"/workspace/apps/web/src/app/providers.tsx",[],"/workspace/apps/web/src/app/search/page.tsx",[],"/workspace/apps/web/src/app/wishlist/page.tsx",[],"/workspace/apps/web/src/components/CategoryGrid.tsx",["106"],"\"use client\";\nimport React from \"react\";\n\nconst demoCategories = [\n  { id: \"dresses\", name: \"فساتين\", image: \"https://images.unsplash.com/photo-1541781286675-7b99f4efcb84?w=400\" },\n  { id: \"shoes\", name: \"أحذية\", image: \"https://images.unsplash.com/photo-1483985988355-763728e1935b?w=400\" },\n  { id: \"bags\", name: \"حقائب\", image: \"https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=400\" },\n  { id: \"accessories\", name: \"إكسسوارات\", image: \"https://images.unsplash.com/photo-1520975661595-6453be3f7070?w=400\" },\n  { id: \"beauty\", name: \"جمال\", image: \"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=400\" },\n  { id: \"sports\", name: \"رياضة\", image: \"https://images.unsplash.com/photo-1521417531291-6ee0b0b44d5f?w=400\" },\n];\n\nexport function CategoryGrid(): JSX.Element {\n  return (\n    <section className=\"mt-6\">\n      <h2 className=\"text-xl md:text-2xl font-bold mb-3\">تسوق حسب التصنيف</h2>\n      <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3\">\n        {demoCategories.map((c) => (\n          <a key={c.id} href={`/search?cat=${c.id}`} className=\"group block\">\n            <div className=\"relative w-full h-28 overflow-hidden rounded bg-gray-100\">\n              <img src={c.image} alt={c.name} className=\"w-full h-full object-cover group-hover:scale-105 transition-transform\" />\n            </div>\n            <div className=\"mt-2 text-center text-sm\">{c.name}</div>\n          </a>\n        ))}\n      </div>\n    </section>\n  );\n}\n\n","/workspace/apps/web/src/components/FooterCompact.tsx",[],"/workspace/apps/web/src/components/Header.tsx",[],"/workspace/apps/web/src/components/HeroBanner.tsx",[],"/workspace/apps/web/src/components/LoadingOverlay.tsx",[],"/workspace/apps/web/src/components/MobileBottomNav.tsx",[],"/workspace/apps/web/src/components/PromoBanners.tsx",["107"],"\"use client\";\nimport React from \"react\";\n\nexport function PromoBanners(): JSX.Element {\n  const banners = [\n    { id: 1, text: \"خصم 30% على الفساتين\", img: \"https://images.unsplash.com/photo-1520975661595-6453be3f7070?w=800\" },\n    { id: 2, text: \"أحذية رياضية جديدة\", img: \"https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=800\" },\n  ];\n  return (\n    <section className=\"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4\">\n      {banners.map((b) => (\n        <a key={b.id} href=\"/search\" className=\"relative h-40 md:h-56 overflow-hidden rounded bg-gray-100\">\n          <img src={b.img} alt={b.text} className=\"w-full h-full object-cover\" />\n          <div className=\"absolute inset-0 bg-black/20\" />\n          <div className=\"absolute bottom-3 right-3 text-white text-lg font-bold\">{b.text}</div>\n        </a>\n      ))}\n    </section>\n  );\n}\n\n","/workspace/apps/web/src/components/PromoBar.tsx",[],"/workspace/apps/web/src/components/Recommendations.tsx",[],"/workspace/apps/web/src/components/SectionGrid.tsx",[],"/workspace/apps/web/src/components/SkeletonCard.tsx",[],"/workspace/apps/web/src/components/TabsSection.tsx",[],"/workspace/apps/web/src/lib/i18n.tsx",[],{"ruleId":"108","severity":1,"message":"109","line":41,"column":6,"nodeType":"110","endLine":41,"endColumn":8,"suggestions":"111"},{"ruleId":"112","severity":1,"message":"113","line":21,"column":15,"nodeType":"114","endLine":21,"endColumn":131},{"ruleId":"112","severity":1,"message":"113","line":13,"column":11,"nodeType":"114","endLine":13,"endColumn":82},"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'fallbackProducts'. Either include it or remove the dependency array.","ArrayExpression",["115"],"@next/next/no-img-element","Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","JSXOpeningElement",{"desc":"116","fix":"117"},"Update the dependencies array to be: [fallbackProducts]",{"range":"118","text":"119"},[1697,1699],"[fallbackProducts]"]