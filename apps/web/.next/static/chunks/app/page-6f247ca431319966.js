(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{627:function(e,t,s){Promise.resolve().then(s.bind(s,958))},958:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var n=s(875),r=s(1696);function i(e){let{children:t,variant:s="default",size:r="md",className:i="",...l}=e,a="".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background"," ").concat({default:"bg-blue-600 text-white hover:bg-blue-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 text-gray-700",ghost:"hover:bg-gray-100 text-gray-700"}[s]," ").concat({sm:"h-8 px-3 py-1.5 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 py-3 text-lg"}[r]," ").concat(i);return(0,n.jsx)("button",{...l,className:a,children:t})}s(5393);let l=e=>{let{product:t,onAddToCart:s,onViewDetails:r,className:l=""}=e,{id:a,name:c,description:o,price:d,images:u,stock:m,rating:x=0,reviewCount:h=0}=t,f=u[0]||"/placeholder-product.jpg",p=m<=0;return(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300 ".concat(l),children:[(0,n.jsxs)("div",{className:"relative h-48 bg-gray-200",children:[(0,n.jsx)("img",{src:f,alt:c,className:"w-full h-full object-cover",onError:e=>{e.target.src="/placeholder-product.jpg"}}),p&&(0,n.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-white font-semibold text-lg",children:"Out of Stock"})})]}),(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:c}),(0,n.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:o}),x>0&&(0,n.jsxs)("div",{className:"flex items-center mb-3",children:[(0,n.jsx)("div",{className:"flex mr-2",children:(e=>{let t=[],s=Math.floor(e);for(let e=0;e<s;e++)t.push((0,n.jsx)("span",{children:"⭐"},e));e%1!=0&&t.push((0,n.jsx)("span",{children:"⭐"},"half"));let r=5-Math.ceil(e);for(let e=0;e<r;e++)t.push((0,n.jsx)("span",{className:"text-gray-300",children:"⭐"},"empty-".concat(e)));return t})(x)}),(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:["(",h," reviews)"]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("span",{className:"text-xl font-bold text-gray-900",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d)}),(0,n.jsx)("span",{className:"text-sm text-gray-500",children:m>0?"".concat(m," in stock"):"Out of stock"})]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)(i,{onClick:()=>null==r?void 0:r(a),variant:"outline",className:"flex-1",size:"sm",children:"View Details"}),(0,n.jsx)(i,{onClick:()=>null==s?void 0:s(a),disabled:p,className:"flex-1",size:"sm",children:p?"Out of Stock":"Add to Cart"})]})]})]})};function a(){var e;let{data:t,isLoading:s,error:i,fetchNextPage:a,hasNextPage:c}=r.S.products.list.useInfiniteQuery({limit:12},{getNextPageParam:e=>e.nextCursor});if(s)return(0,n.jsx)("main",{className:"p-8",children:"Loading products..."});if(i)return(0,n.jsxs)("main",{className:"p-8",children:["Error: ",i.message]});let o=null!==(e=null==t?void 0:t.pages.flatMap(e=>e.items))&&void 0!==e?e:[];return(0,n.jsxs)("main",{className:"min-h-screen p-8 max-w-7xl mx-auto",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Latest Products"}),(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:o.map(e=>(0,n.jsx)(l,{product:{id:e.id,name:e.name,description:e.description,price:e.price,images:e.images,stock:e.stockQuantity,rating:0,reviewCount:0},onViewDetails:e=>window.location.href="/products/".concat(e)},e.id))}),c&&(0,n.jsx)("div",{className:"flex justify-center mt-8",children:(0,n.jsx)("button",{onClick:()=>a(),className:"px-4 py-2 bg-black text-white rounded",children:"Load More"})})]})}},1696:function(e,t,s){"use strict";s.d(t,{AppProviders:function(){return u},S:function(){return d}});var n=s(875),r=s(1151),i=s(6619),l=s(1558),a=s(8028),c=s(2415),o=s(5393);let d=(0,a.ec)();function u(e){let{children:t}=e,[s]=o.useState(()=>new r.S),[a]=o.useState(()=>d.createClient({transformer:c.ZP,links:[(0,l.N8)({url:"http://localhost:4000/trpc"})]}));return(0,n.jsx)(d.Provider,{client:a,queryClient:s,children:(0,n.jsx)(i.aH,{client:s,children:t})})}}},function(e){e.O(0,[94,64,694,744],function(){return e(e.s=627)}),_N_E=e.O()}]);