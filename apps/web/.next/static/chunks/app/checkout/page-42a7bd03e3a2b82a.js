(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{8244:function(e,n,t){Promise.resolve().then(t.bind(t,6592))},6592:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return l}});var s=t(875),r=t(1696),a=t(5393);function l(){var e;let n=r.S,{data:t,isLoading:l,error:i}=n.cart.getCart.useQuery(),c=n.orders.createOrder.useMutation(),d=n.coupons.validateCoupon.useMutation(),[o,u]=a.useState("");if(l)return(0,s.jsx)("main",{className:"p-8",children:"Loading..."});if(i)return(0,s.jsxs)("main",{className:"p-8",children:["Error: ",i.message]});let m=null!==(e=null==t?void 0:t.subtotal)&&void 0!==e?e:0;return(0,s.jsxs)("main",{className:"min-h-screen p-4 md:p-8 max-w-5xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-6",children:"الدفع"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 items-start",children:[(0,s.jsxs)("section",{className:"md:col-span-2 space-y-4",children:[(0,s.jsxs)("div",{className:"border rounded p-4",children:[(0,s.jsx)("div",{className:"font-semibold mb-2",children:"بيانات الشحن"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsx)("input",{placeholder:"الاسم الكامل",className:"border rounded px-3 py-2"}),(0,s.jsx)("input",{placeholder:"الهاتف",className:"border rounded px-3 py-2"}),(0,s.jsx)("input",{placeholder:"المدينة",className:"border rounded px-3 py-2"}),(0,s.jsx)("input",{placeholder:"الحي",className:"border rounded px-3 py-2"}),(0,s.jsx)("input",{placeholder:"الشارع",className:"border rounded px-3 py-2 md:col-span-2"})]})]}),(0,s.jsxs)("div",{className:"border rounded p-4",children:[(0,s.jsx)("div",{className:"font-semibold mb-2",children:"طريقة الدفع"}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"radio",name:"pm",defaultChecked:!0})," بطاقة"]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"radio",name:"pm"})," Apple Pay"]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"radio",name:"pm"})," عند الاستلام"]})]})]})]}),(0,s.jsxs)("aside",{className:"border rounded p-4 h-fit",children:[(0,s.jsx)("div",{className:"text-lg font-semibold mb-2",children:"ملخص"}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,s.jsx)("span",{children:"الإجمالي الفرعي"}),(0,s.jsxs)("span",{children:["$",m.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,s.jsx)("input",{value:o,onChange:e=>u(e.target.value),placeholder:"كوبون",className:"border rounded px-3 py-2 flex-1"}),(0,s.jsx)("button",{className:"px-3 py-2 border rounded",onClick:async()=>{o&&await d.mutateAsync({code:o})},children:"تطبيق"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mt-1",children:[(0,s.jsx)("span",{children:"الشحن"}),(0,s.jsx)("span",{children:"—"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-base font-semibold mt-3",children:[(0,s.jsx)("span",{children:"الإجمالي"}),(0,s.jsxs)("span",{children:["$",m.toFixed(2)]})]}),(0,s.jsx)("button",{className:"mt-4 w-full px-4 py-2 bg-black text-white rounded",onClick:async()=>{await c.mutateAsync({}),window.location.href="/account"},children:"تأكيد الطلب"})]})]}),(0,s.jsxs)("div",{className:"md:hidden fixed bottom-0 left-0 right-0 border-t bg-white p-3 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"text-sm",children:["الإجمالي: ",(0,s.jsxs)("b",{children:["$",m.toFixed(2)]})]}),(0,s.jsx)("button",{className:"px-4 py-2 bg-black text-white rounded",onClick:async()=>{await c.mutateAsync({}),window.location.href="/account"},children:"تأكيد"})]})]})}},1696:function(e,n,t){"use strict";t.d(n,{AppProviders:function(){return m},S:function(){return u}});var s=t(875),r=t(1151),a=t(6619),l=t(1558),i=t(8028),c=t(5393),d=t(9764),o=t(5009);let u=(0,i.ec)();function m(e){let{children:n}=e,[t]=c.useState(()=>new r.S),[i]=c.useState(()=>{let e=o.env.NEXT_PUBLIC_TRPC_URL;return e||(e=window.location.hostname.endsWith("onrender.com")?"https://jeeeyai.onrender.com/trpc":"http://localhost:4000/trpc"),u.createClient({links:[(0,l.u_)({condition:e=>"query"===e.type,true:(0,l.ch)({url:e,method:"GET",fetch:(e,n)=>fetch(e,{...null!=n?n:{},credentials:"include"})}),false:(0,l.N8)({url:e,fetch:(e,n)=>fetch(e,{...null!=n?n:{},credentials:"include"})})})]})});return(0,s.jsx)(u.Provider,{client:i,queryClient:t,children:(0,s.jsx)(a.aH,{client:t,children:(0,s.jsx)(d.bd,{children:n})})})}},9764:function(e,n,t){"use strict";t.d(n,{QT:function(){return c},bd:function(){return i},lL:function(){return d}});var s=t(875),r=t(5393);let a={home:{ar:"الرئيسية",en:"Home"},categories:{ar:"التصنيفات",en:"Categories"},search:{ar:"البحث",en:"Search"},account:{ar:"حسابي",en:"Account"},cart:{ar:"سلة التسوق",en:"Cart"},wishlist:{ar:"المفضلة",en:"Wishlist"},checkout:{ar:"الدفع",en:"Checkout"},notFound:{ar:"الصفحة غير موجودة",en:"Page not found"},backHome:{ar:"العودة للرئيسية",en:"Back to home"},description:{ar:"الوصف",en:"Description"},specs:{ar:"المواصفات",en:"Specifications"},reviews:{ar:"التقييمات",en:"Reviews"},shipping:{ar:"الشحن",en:"Shipping"},returns:{ar:"الإرجاع",en:"Returns"},apply:{ar:"تطبيق",en:"Apply"},coupon:{ar:"كوبون",en:"Coupon"},size:{ar:"المقاس",en:"Size"},addToCart:{ar:"أضف إلى السلة",en:"Add to cart"}},l=r.createContext(void 0);function i(e){let{children:n}=e,[t,i]=r.useState(()=>"en"===(new URLSearchParams(window.location.search).get("lang")||localStorage.getItem("locale")||"ar")?"en":"ar"),c=r.useCallback(e=>{i(e),localStorage.setItem("locale",e)},[]),d=r.useMemo(()=>({locale:t,dir:"ar"===t?"rtl":"ltr",setLocale:c,t:e=>{var n,s;return null!==(s=null===(n=a[e])||void 0===n?void 0:n[t])&&void 0!==s?s:e}}),[t,c]);return(0,s.jsx)(l.Provider,{value:d,children:n})}function c(){let e=r.useContext(l);if(!e)throw Error("useI18n must be used within I18nProvider");return e}function d(){let{locale:e,dir:n}=c();return r.useEffect(()=>{"undefined"!=typeof document&&(document.documentElement.lang=e,document.documentElement.dir=n)},[e,n]),null}}},function(e){e.O(0,[722,64,694,744],function(){return e(e.s=8244)}),_N_E=e.O()}]);