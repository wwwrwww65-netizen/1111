(()=>{var e={};e.id=240,e.ids=[240],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2988:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>o}),t(2834),t(648),t(9595);var r=t(5962),a=t(3241),i=t(2233),n=t.n(i),d=t(9707),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let o=["",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2834)),"/workspace/apps/admin/src/app/users/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,648)),"/workspace/apps/admin/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9595,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/apps/admin/src/app/users/page.tsx"],p="/users/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/users/page",pathname:"/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7332:(e,s,t)=>{Promise.resolve().then(t.bind(t,6856)),Promise.resolve().then(t.bind(t,8652))},3379:(e,s,t)=>{Promise.resolve().then(t.bind(t,1330))},6096:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,9948,23)),Promise.resolve().then(t.t.bind(t,674,23)),Promise.resolve().then(t.t.bind(t,9516,23)),Promise.resolve().then(t.t.bind(t,3921,23)),Promise.resolve().then(t.t.bind(t,2689,23)),Promise.resolve().then(t.t.bind(t,3269,23))},6856:(e,s,t)=>{"use strict";t.d(s,{AppProviders:()=>p,S:()=>c});var r=t(2281),a=t(4699),i=t(1060),n=t(4345),d=t(6903),l=t(4051),o=t.n(l);let c=(0,d.ec)();function p({children:e}){let[s]=o().useState(()=>new a.S),[t]=o().useState(()=>{let e=process.env.NEXT_PUBLIC_TRPC_URL;return e||(e="http://localhost:4000/trpc"),c.createClient({links:[(0,n.N8)({url:e,fetch:(e,s)=>fetch(e,{...s??{},credentials:"include"})})]})});return r.jsx(c.Provider,{client:t,queryClient:s,children:r.jsx(i.aH,{client:s,children:e})})}},1330:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,dynamic:()=>d});var r=t(2281),a=t(4051),i=t.n(a);function n({apiBase:e,authHeaders:s}){let[t,a]=i().useState([]),[n,d]=i().useState([]),[l,o]=i().useState(""),[c,p]=i().useState(""),[u,h]=i().useState(""),[x,m]=i().useState(""),[g,b]=i().useState([]),[f,y]=i().useState({});async function j(){let[t,r]=await Promise.all([fetch(`${e}/api/admin/roles`,{credentials:"include",headers:{...s()},cache:"no-store"}).then(e=>e.json()).catch(()=>({roles:[]})),fetch(`${e}/api/admin/permissions`,{credentials:"include",headers:{...s()},cache:"no-store"}).then(e=>e.json()).catch(()=>({permissions:[],groups:{}}))]);a(t.roles||[]),d(r.permissions||[])}async function v(){l.trim()&&(await fetch(`${e}/api/admin/roles`,{method:"POST",headers:{"content-type":"application/json",...s()},credentials:"include",body:JSON.stringify({name:l.trim()})}),o(""),await j())}async function k(t,r){await fetch(`${e}/api/admin/roles/${t}/permissions`,{method:"POST",headers:{"content-type":"application/json",...s()},credentials:"include",body:JSON.stringify({permissionIds:r})}),await j()}async function S(){let t=new URL(`${e}/api/admin/users/list`);t.searchParams.set("page","1"),t.searchParams.set("limit","50"),x&&t.searchParams.set("search",x),b((await (await fetch(t.toString(),{credentials:"include",headers:{...s()},cache:"no-store"})).json()).users||[]),y({})}async function w(){if(u)for(let t of Object.entries(f).filter(([,e])=>e).map(([e])=>e))await fetch(`${e}/api/admin/users/${t}/assign-roles`,{method:"POST",headers:{"content-type":"application/json",...s()},credentials:"include",body:JSON.stringify({roleIds:[u]})})}let C=i().useMemo(()=>n.filter(e=>!c||e.key.toLowerCase().includes(c.toLowerCase())),[n,c]),P=i().useMemo(()=>t.find(e=>e.id===u),[t,u]),R=new Set((P?.permissions||[]).map(e=>e.id));return(0,r.jsxs)("section",{className:"panel",style:{marginTop:16},children:[r.jsx("h3",{style:{marginTop:0},children:"إدارة الصلاحيات"}),(0,r.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"1fr 2fr",gap:16},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"1fr auto",gap:8,marginBottom:8},children:[r.jsx("input",{className:"input",placeholder:"اسم الدور",value:l,onChange:e=>o(e.target.value)}),r.jsx("button",{className:"btn",onClick:v,children:"إضافة دور"})]}),r.jsx("div",{style:{maxHeight:300,overflow:"auto"},children:t.map(e=>r.jsx("div",{onClick:()=>h(e.id),style:{padding:10,border:"1px solid var(--muted)",borderRadius:8,marginBottom:8,background:u===e.id?"#101828":"transparent",cursor:"pointer"},children:e.name},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"1fr auto",gap:8,marginBottom:8},children:[r.jsx("input",{className:"input",placeholder:"بحث صلاحيات",value:c,onChange:e=>p(e.target.value)}),r.jsx("button",{className:"icon-btn",onClick:()=>p(""),children:"مسح"})]}),r.jsx("div",{style:{maxHeight:320,overflow:"auto",border:"1px solid var(--muted)",borderRadius:8,padding:8},children:r.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:12},children:C.map(e=>{let s=R.has(e.id);return(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 4px"},children:[r.jsx("input",{type:"checkbox",checked:s,onChange:s=>{let t=new Set(R);s.target.checked?t.add(e.id):t.delete(e.id),k(u,Array.from(t))}}),r.jsx("span",{children:e.key})]},e.id)})})}),(0,r.jsxs)("div",{style:{marginTop:12},children:[r.jsx("div",{style:{color:"var(--sub)",marginBottom:6},children:"إسناد الدور للمستخدمين"}),(0,r.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"1fr auto",gap:8,marginBottom:8},children:[r.jsx("input",{className:"input",placeholder:"بحث مستخدمين",value:x,onChange:e=>m(e.target.value)}),r.jsx("button",{className:"btn",onClick:S,children:"بحث"})]}),r.jsx("div",{style:{maxHeight:220,overflow:"auto",border:"1px solid var(--muted)",borderRadius:8},children:g.map(e=>(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px"},children:[r.jsx("input",{type:"checkbox",checked:!!f[e.id],onChange:()=>y(s=>({...s,[e.id]:!s[e.id]}))}),(0,r.jsxs)("span",{children:[e.name||"-"," — ",e.email]})]},e.id))}),r.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:r.jsx("button",{className:"btn",onClick:w,children:"إسناد الدور للمختارين"})})]})]})]})]})}let d="force-dynamic";function l(){let e=i().useMemo(()=>process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:4000",[]),s=i().useCallback(()=>{if("undefined"==typeof document)return{};let e=document.cookie.match(/(?:^|; )auth_token=([^;]+)/);return e?{Authorization:`Bearer ${decodeURIComponent(e[1])}`}:{}},[]),[t,a]=i().useState(1),[d,l]=i().useState(""),[p,u]=i().useState([]),[h,x]=i().useState("MANAGER"),[m,g]=i().useState({}),[b,f]=i().useState("users"),[y,j]=i().useState(!1),[v,k]=i().useState(""),S=e=>{k(e),setTimeout(()=>k(""),1800)};async function w(){let r=new URL(`${e}/api/admin/users/list`);r.searchParams.set("page",String(t)),r.searchParams.set("limit","20"),d&&r.searchParams.set("search",d),"admins"===b?r.searchParams.set("role","ADMIN"):"users"===b?r.searchParams.set("role","USER"):"vendors"===b&&r.searchParams.set("role","VENDOR");let a=await fetch(r.toString(),{credentials:"include",headers:{...s()},cache:"no-store"});u((await a.json()).users||[])}async function C(t){await fetch(`${e}/api/admin/users/assign-role`,{method:"POST",headers:{"content-type":"application/json",...s()},credentials:"include",body:JSON.stringify({userId:t,roleName:h})}),await w()}async function P(){for(let e of p.filter(e=>m[e.id]).map(e=>e.id))await C(e)}return(0,r.jsxs)("main",{style:{padding:16},children:[v&&r.jsx("div",{style:{marginBottom:8,background:"#111827",color:"#e5e7eb",padding:"6px 10px",borderRadius:8},children:v}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:8,marginBottom:12},children:[r.jsx("button",{onClick:()=>{f("users"),a(1),w()},style:{padding:"8px 14px",borderRadius:999,background:"users"===b?"#800020":"#111827",color:"#e5e7eb",border:"1px solid #1c2333"},children:"المستخدمون"}),r.jsx("button",{onClick:()=>{f("vendors"),a(1),w()},style:{padding:"8px 14px",borderRadius:999,background:"vendors"===b?"#800020":"#111827",color:"#e5e7eb",border:"1px solid #1c2333"},children:"المورّدون"}),r.jsx("button",{onClick:()=>{f("admins"),a(1),w()},style:{padding:"8px 14px",borderRadius:999,background:"admins"===b?"#800020":"#111827",color:"#e5e7eb",border:"1px solid #1c2333"},children:"الإدارة"}),r.jsx("button",{onClick:()=>{f("permissions")},style:{padding:"8px 14px",borderRadius:999,background:"permissions"===b?"#800020":"#111827",color:"#e5e7eb",border:"1px solid #1c2333"},children:"الصلاحيات"})]}),"permissions"!==b&&(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,r.jsxs)("div",{style:{display:"flex",gap:8},children:[r.jsx("input",{value:d,onChange:e=>l(e.target.value),placeholder:"بحث بالاسم/البريد/الهاتف",style:{padding:8,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}}),r.jsx("button",{onClick:()=>{a(1),w()},style:{padding:"8px 12px",background:"#111827",color:"#e5e7eb",borderRadius:8},children:"بحث"})]}),r.jsx("button",{onClick:()=>j(!0),style:{padding:"8px 12px",background:"#800020",color:"#fff",borderRadius:8},children:"إضافة حساب"})]}),"permissions"!==b&&r.jsx("div",{style:{display:"flex",gap:8,marginBottom:12},children:(0,r.jsxs)("select",{value:h,onChange:e=>x(e.target.value),style:{padding:8,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"},children:[r.jsx("option",{value:"MANAGER",children:"MANAGER"}),r.jsx("option",{value:"OPERATOR",children:"OPERATOR"}),r.jsx("option",{value:"ADMIN",children:"ADMIN"})]})}),"permissions"!==b&&(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{children:[r.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"}}),r.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"},children:"البريد"}),r.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"},children:"الاسم"}),r.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"},children:"الهاتف"}),r.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"},children:"الدور"}),r.jsx("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"},children:"إجراءات"})]})}),r.jsx("tbody",{children:p.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:r.jsx("input",{type:"checkbox",checked:!!m[e.id],onChange:()=>g(s=>({...s,[e.id]:!s[e.id]}))})}),r.jsx("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:e.email}),r.jsx("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:e.name}),r.jsx("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:e.phone||"-"}),r.jsx("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:e.role}),r.jsx("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:(0,r.jsxs)("button",{onClick:()=>C(e.id),style:{padding:"6px 10px",background:"#111827",color:"#e5e7eb",borderRadius:6},children:["إسناد ",h]})})]},e.id))})]}),"permissions"!==b&&r.jsx("div",{style:{marginTop:12},children:r.jsx("button",{onClick:P,style:{padding:"8px 12px",background:"#064e3b",color:"#e5e7eb",borderRadius:8},children:"إسناد جماعي"})}),"permissions"===b&&r.jsx(n,{apiBase:e,authHeaders:s}),y&&r.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"grid",placeItems:"center",zIndex:50},children:(0,r.jsxs)("div",{style:{width:520,background:"#0f1420",border:"1px solid #1c2333",borderRadius:12,padding:16},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[r.jsx("h3",{style:{margin:0},children:"إضافة حساب"}),r.jsx("button",{onClick:()=>j(!1),style:{padding:"6px 10px",background:"#111827",color:"#e5e7eb",borderRadius:6},children:"إغلاق"})]}),"vendors"===b?r.jsx(c,{onDone:async()=>{j(!1),S("تمت الإضافة"),await w()},apiBase:e,authHeaders:s}):r.jsx(o,{role:"admins"===b?"ADMIN":"USER",onDone:async()=>{j(!1),S("تمت الإضافة"),await w()},apiBase:e,authHeaders:s})]})})]})}function o({role:e,onDone:s,apiBase:t,authHeaders:a}){let[n,d]=i().useState(""),[l,o]=i().useState(""),[c,p]=i().useState(""),[u,h]=i().useState(""),[x,m]=i().useState(""),[g,b]=i().useState(""),[f,y]=i().useState(""),[j,v]=i().useState(!1),[k,S]=i().useState(""),w=i().useMemo(()=>[{value:"USER",label:"USER"},{value:"ADMIN",label:"ADMIN"}].filter(e=>!f||e.label.toLowerCase().includes(f.toLowerCase())),[f]);async function C(r){if(r.preventDefault(),!j){v(!0),S("");try{let r=await fetch(`${t}/api/admin/users`,{method:"POST",headers:{"content-type":"application/json",...a()},credentials:"include",body:JSON.stringify({name:n,phone:l,role:e,email:c,username:u,address:x,password:g})});if(!r.ok){let e="تعذّر إنشاء الحساب";try{let s=await r.json();s?.error==="required_fields"?e="الحقول المطلوبة مفقودة (كلمة السر + بريد/اسم مستخدم/هاتف)":s?.message&&(e=s.message)}catch{}S(e);return}d(""),o(""),p(""),h(""),m(""),b(""),await s()}finally{v(!1)}}}return(0,r.jsxs)("form",{onSubmit:C,style:{display:"grid",gap:10},children:[k&&r.jsx("div",{style:{background:"#7f1d1d",color:"#fee2e2",padding:"8px 10px",borderRadius:8},children:k}),(0,r.jsxs)("label",{children:["الاسم",r.jsx("input",{value:n,onChange:e=>d(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["رقم الهاتف",r.jsx("input",{value:l,onChange:e=>o(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["البريد أو اسم المستخدم",r.jsx("input",{autoComplete:"username email",value:c||u,onChange:e=>{p(e.target.value),h(e.target.value)},style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["العنوان (الموقع داخل المدينة)",r.jsx("input",{autoComplete:"street-address",value:x,onChange:e=>m(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["كلمة السر",r.jsx("input",{autoComplete:"new-password",type:"password",value:g,onChange:e=>b(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{style:{marginBottom:6,color:"#9ca3af"},children:"نوع الحساب"}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px",gap:8},children:[r.jsx("select",{value:e,onChange:e=>{},disabled:!0,style:{padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"},children:w.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))}),r.jsx("input",{placeholder:"بحث نوع الحساب",value:f,onChange:e=>y(e.target.value),style:{padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]})]}),r.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:r.jsx("button",{type:"submit",disabled:j,style:{padding:"8px 12px",background:j?"#4b5563":"#800020",color:"#fff",borderRadius:8},children:j?"جارٍ الإضافة...":"إضافة"})})]})}function c({onDone:e,apiBase:s,authHeaders:t}){let[a,n]=i().useState(""),[d,l]=i().useState(""),[o,c]=i().useState(""),[p,u]=i().useState([]),[h,x]=i().useState(!1),[m,g]=i().useState("");async function b(r){if(r.preventDefault(),h)return;x(!0),g("");let i={password:d,vendorId:o};/@/.test(a)?i.email=a:/^\+?\d/.test(a)?i.phone=a:i.username=a;try{if(!i.vendorId){g("اختر مورّداً");return}if(!i.password||!(i.email||i.username||i.phone)){g("الحقول المطلوبة مفقودة (كلمة السر + معرف)");return}let r=await fetch(`${s}/api/admin/users`,{method:"POST",headers:{"content-type":"application/json",...t()},credentials:"include",body:JSON.stringify(i)});if(!r.ok){let e="تعذّر إنشاء الحساب للمورّد";try{let s=await r.json();s?.error==="required_fields"?e="الحقول المطلوبة مفقودة (كلمة السر + معرف)":s?.message&&(e=s.message)}catch{}g(e);return}n(""),l(""),c(""),await e()}finally{x(!1)}}return(0,r.jsxs)("form",{onSubmit:b,style:{display:"grid",gap:10},children:[m&&r.jsx("div",{style:{background:"#7f1d1d",color:"#fee2e2",padding:"8px 10px",borderRadius:8},children:m}),(0,r.jsxs)("label",{children:["المستخدم/الهاتف",r.jsx("input",{value:a,onChange:e=>n(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["كلمة السر",r.jsx("input",{autoComplete:"new-password",type:"password",value:d,onChange:e=>l(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["المورّد",(0,r.jsxs)("select",{value:o,onChange:e=>c(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"},children:[r.jsx("option",{value:"",children:"اختر مورّداً"}),p.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),r.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:r.jsx("button",{type:"submit",disabled:h,style:{padding:"8px 12px",background:h?"#4b5563":"#800020",color:"#fff",borderRadius:8},children:h?"جارٍ الإضافة...":"إضافة"})})]})}},8652:(e,s,t)=>{"use strict";t.d(s,{default:()=>l});var r=t(2281),a=t(4051),i=t.n(a),n=t(2337);let d=[{href:"/",label:"لوحة"},{href:"/products",label:"المنتجات"},{href:"/categories",label:"التصنيفات"},{href:"/orders",label:"الطلبات"},{href:"/shipments",label:"الشحنات"},{href:"/drivers",label:"السائقون"},{href:"/carriers",label:"المزوّدون"},{href:"/users",label:"المستخدمون"},{href:"/vendors",label:"المورّدون"},{href:"/inventory",label:"المخزون"},{href:"/payments",label:"المدفوعات"},{href:"/returns",label:"المرتجعات"},{href:"/coupons",label:"الكوبونات"},{href:"/analytics",label:"الإحصاءات"},{href:"/tickets",label:"الدعم"},{href:"/cms",label:"CMS"},{href:"/media",label:"الوسائط"},{href:"/attributes",label:"السمات"},{href:"/integrations",label:"التكاملات"},{href:"/audit-logs",label:"سجلّ التدقيق"},{href:"/settings",label:"الإعدادات"},{href:"/backups",label:"النسخ الاحتياطي"}],l=function({children:e}){let s=(0,n.usePathname)(),[t,a]=i().useState(!0),[l,o]=i().useState("");return(0,r.jsxs)("div",{className:"app-root",children:[(0,r.jsxs)("header",{className:"topbar",children:[r.jsx("button",{className:"icon-btn",onClick:()=>a(e=>!e),"aria-label":"toggle sidebar",children:"☰"}),r.jsx("div",{className:"brand",children:"jeeey • Admin"}),(0,r.jsxs)("div",{className:"top-actions",children:[r.jsx("div",{className:"search",children:r.jsx("input",{placeholder:"بحث سريع…",value:l,onChange:e=>o(e.target.value)})}),r.jsx("div",{className:"user",children:r.jsx("a",{href:"/login",className:"user-pill",children:"الحساب"})})]})]}),(0,r.jsxs)("div",{className:"shell",children:[r.jsx("aside",{className:t?"sidebar open":"sidebar",children:r.jsx("nav",{children:d.map(e=>{var t;return r.jsx("a",{href:e.href,className:("/"===(t=e.href)?"/"===s:s?.startsWith(t)??!1)?"nav-item active":"nav-item",children:r.jsx("span",{className:"label",children:e.label})},e.href)})})}),r.jsx("main",{className:"content",children:r.jsx("div",{className:"container",children:e})})]})]})}},648:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(9926),a=t(4836),i=t(665);t(4368);var n=t(9805);let d=(0,n.createProxy)(String.raw`/workspace/apps/admin/src/components/AppShell.tsx`),{__esModule:l,$$typeof:o}=d;d.default,(0,n.createProxy)(String.raw`/workspace/apps/admin/src/components/AppShell.tsx#AppShell`);let c=(0,n.createProxy)(String.raw`/workspace/apps/admin/src/components/AppShell.tsx#default`);function p({children:e}){let s=(0,i.cookies)().has("auth_token");return r.jsx("html",{lang:"ar",dir:"rtl",children:r.jsx("body",{children:r.jsx(a.I,{children:s?r.jsx(c,{children:e}):r.jsx("main",{className:"content",style:{padding:24},children:e})})})})}},4836:(e,s,t)=>{"use strict";t.d(s,{I:()=>d});var r=t(9805);let a=(0,r.createProxy)(String.raw`/workspace/apps/admin/src/app/providers.tsx`),{__esModule:i,$$typeof:n}=a;a.default,(0,r.createProxy)(String.raw`/workspace/apps/admin/src/app/providers.tsx#trpc`);let d=(0,r.createProxy)(String.raw`/workspace/apps/admin/src/app/providers.tsx#AppProviders`)},2834:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>l,dynamic:()=>d});var r=t(9805);let a=(0,r.createProxy)(String.raw`/workspace/apps/admin/src/app/users/page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let d=(0,r.createProxy)(String.raw`/workspace/apps/admin/src/app/users/page.tsx#dynamic`),l=(0,r.createProxy)(String.raw`/workspace/apps/admin/src/app/users/page.tsx#default`)},4368:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[898],()=>t(2988));module.exports=r})();