(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[820],{7660:function(e,t,n){Promise.resolve().then(n.bind(n,6942))},6942:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u},dynamic:function(){return a}});var r=n(875),o=n(5393),i=n(5009);let a="force-dynamic";function d(e){let{active:t,onClick:n,children:o}=e;return(0,r.jsx)("button",{onClick:n,style:{padding:"8px 14px",borderRadius:999,background:t?"#800020":"#111827",color:t?"#fff":"#e5e7eb",border:"1px solid #1c2333"},children:o})}function s(){let e=o.useMemo(()=>i.env.NEXT_PUBLIC_API_BASE_URL||window.location.origin.replace("jeeey-manger","jeeeyai"),[]),t=o.useCallback(()=>{if("undefined"==typeof document)return{};let e=document.cookie.match(/(?:^|; )auth_token=([^;]+)/);return e?{Authorization:"Bearer ".concat(decodeURIComponent(e[1]))}:{}},[]),[n,a]=o.useState([]),[d,s]=o.useState(""),[c,l]=o.useState("#800020"),[u,p]=o.useState(""),[f,h]=o.useState(""),g=e=>{h(e),setTimeout(()=>h(""),1800)};async function b(){let n=await fetch("".concat(e,"/api/admin/attributes/colors"),{credentials:"include",cache:"no-store",headers:{...t()}});a((await n.json()).colors||[])}async function x(){if(!(await fetch("".concat(e,"/api/admin/attributes/colors"),{method:"POST",headers:{"content-type":"application/json",...t()},credentials:"include",body:JSON.stringify({name:d,hex:c})})).ok){g("فشل الإضافة");return}s(""),await b(),g("تمت الإضافة")}async function y(n,r){if(!(await fetch("".concat(e,"/api/admin/attributes/colors/").concat(n),{method:"PATCH",headers:{"content-type":"application/json",...t()},credentials:"include",body:JSON.stringify(r)})).ok){g("فشل الحفظ");return}await b(),g("تم الحفظ")}async function m(n){if(confirm("تأكيد الحذف؟")){if(!(await fetch("".concat(e,"/api/admin/attributes/colors/").concat(n),{method:"DELETE",credentials:"include",headers:{...t()}})).ok){g("فشل الحذف");return}await b(),g("تم الحذف")}}async function j(){try{let e=window.EyeDropper;if(!e)return;let t=new e,n=await t.open();l(n.sRGBHex)}catch(e){}}return o.useEffect(()=>{b()},[]),(0,r.jsxs)("section",{style:{background:"#0b0e14",border:"1px solid #1c2333",borderRadius:12,padding:16},children:[f&&(0,r.jsx)("div",{style:{marginBottom:8,background:"#111827",color:"#e5e7eb",padding:"6px 10px",borderRadius:8},children:f}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:12,marginBottom:12},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px auto",gap:8},children:[(0,r.jsx)("input",{value:d,onChange:e=>s(e.target.value),placeholder:"اسم اللون",style:{padding:10,borderRadius:10,background:"#0f1320",border:"1px solid #1c2333",color:"#e2e8f0"}}),(0,r.jsx)("input",{type:"color",value:c,onChange:e=>l(e.target.value),style:{width:120,height:40,borderRadius:10,border:"1px solid #1c2333",background:"#0f1320"}}),(0,r.jsxs)("div",{style:{display:"flex",gap:8},children:["EyeDropper"in window&&(0,r.jsx)("button",{onClick:j,style:{padding:"10px 14px",background:"#111827",color:"#e5e7eb",borderRadius:10},children:"قطّارة لون"}),(0,r.jsx)("button",{onClick:x,style:{padding:"10px 14px",background:"#800020",color:"#fff",borderRadius:10},children:"إضافة"})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{value:u,onChange:e=>p(e.target.value),placeholder:"بحث بالاسم",style:{padding:10,borderRadius:10,background:"#0f1320",border:"1px solid #1c2333",color:"#e2e8f0",width:240}})})]}),(0,r.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:12},children:["#000000","#ffffff","#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#f97316","#22c55e","#06b6d4"].map(e=>(0,r.jsx)("button",{onClick:()=>l(e),title:e,style:{width:24,height:24,borderRadius:999,border:"#ffffff"===e.toLowerCase()?"1px solid #1c2333":"none",background:e}},e))}),(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:{textAlign:"right",padding:12,borderBottom:"1px solid #1c2333",background:"#0f1320"},children:"الاسم"}),(0,r.jsx)("th",{style:{textAlign:"right",padding:12,borderBottom:"1px solid #1c2333",background:"#0f1320"},children:"اللون"})]})}),(0,r.jsx)("tbody",{children:n.filter(e=>{var t;return!u||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))}).map((e,t)=>(0,r.jsxs)("tr",{style:{background:t%2?"#0a0e17":"transparent"},children:[(0,r.jsx)("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:(0,r.jsx)("input",{defaultValue:e.name,onBlur:t=>y(e.id,{name:t.target.value}),style:{padding:8,borderRadius:8,background:"#0f1320",border:"1px solid #1c2333",color:"#e2e8f0"}})}),(0,r.jsx)("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:(0,r.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[(0,r.jsx)("span",{style:{width:16,height:16,borderRadius:999,background:e.hex,border:"1px solid #111827"}}),(0,r.jsx)("code",{style:{color:"#9ca3af"},children:e.hex}),(0,r.jsx)("input",{type:"color",defaultValue:e.hex,onChange:t=>y(e.id,{hex:t.target.value}),style:{width:28,height:24,border:"none",background:"transparent"}}),(0,r.jsx)("button",{onClick:()=>m(e.id),style:{padding:"6px 10px",background:"#7c2d12",color:"#fff",borderRadius:8},children:"حذف"})]})})]},e.id))})]})]})}function c(){let e=o.useMemo(()=>i.env.NEXT_PUBLIC_API_BASE_URL||window.location.origin.replace("jeeey-manger","jeeeyai"),[]),t=o.useCallback(()=>{if("undefined"==typeof document)return{};let e=document.cookie.match(/(?:^|; )auth_token=([^;]+)/);return e?{Authorization:"Bearer ".concat(decodeURIComponent(e[1]))}:{}},[]),[n,a]=o.useState([]),[d,s]=o.useState(""),[c,l]=o.useState("");async function u(){let n=await fetch("".concat(e,"/api/admin/attributes/size-types"),{credentials:"include",cache:"no-store",headers:{...t()}});a((await n.json()).types||[])}async function p(){(await fetch("".concat(e,"/api/admin/attributes/size-types"),{method:"POST",headers:{"content-type":"application/json",...t()},credentials:"include",body:JSON.stringify({name:d})})).ok&&(s(""),await u())}return o.useEffect(()=>{u()},[e]),(0,r.jsxs)("section",{style:{background:"#0b0e14",border:"1px solid #1c2333",borderRadius:12,padding:16},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:12,marginBottom:12},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:8},children:[(0,r.jsx)("input",{value:d,onChange:e=>s(e.target.value),placeholder:"نوع المقاس",style:{padding:10,borderRadius:10,background:"#0f1320",border:"1px solid #1c2333",color:"#e2e8f0"}}),(0,r.jsx)("button",{onClick:p,style:{padding:"10px 14px",background:"#800020",color:"#fff",borderRadius:10},children:"إضافة النوع"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{value:c,onChange:e=>l(e.target.value),placeholder:"بحث بالاسم",style:{padding:10,borderRadius:10,background:"#0f1320",border:"1px solid #1c2333",color:"#e2e8f0",width:240}})})]}),(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:{textAlign:"right",padding:12,borderBottom:"1px solid #1c2333",background:"#0f1320"},children:"النوع"}),(0,r.jsx)("th",{style:{textAlign:"right",padding:12,borderBottom:"1px solid #1c2333",background:"#0f1320"}})]})}),(0,r.jsx)("tbody",{children:n.filter(e=>{var t;return!c||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))}).map((e,t)=>(0,r.jsxs)("tr",{style:{background:t%2?"#0a0e17":"transparent"},children:[(0,r.jsx)("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:e.name}),(0,r.jsx)("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:(0,r.jsx)("a",{href:"/attributes/sizes/".concat(e.id),style:{padding:"8px 12px",background:"#374151",color:"#e5e7eb",borderRadius:8,textDecoration:"none"},children:"عرض المقاسات"})})]},e.id))})]})]})}function l(){let e=o.useMemo(()=>i.env.NEXT_PUBLIC_API_BASE_URL||window.location.origin.replace("jeeey-manger","jeeeyai"),[]),t=o.useCallback(()=>{if("undefined"==typeof document)return{};let e=document.cookie.match(/(?:^|; )auth_token=([^;]+)/);return e?{Authorization:"Bearer ".concat(decodeURIComponent(e[1]))}:{}},[]),[n,a]=o.useState([]),[d,s]=o.useState(""),[c,l]=o.useState("");async function u(){let n=await fetch("".concat(e,"/api/admin/attributes/brands"),{credentials:"include",cache:"no-store",headers:{...t()}});a((await n.json()).brands||[])}async function p(){(await fetch("".concat(e,"/api/admin/attributes/brands"),{method:"POST",headers:{"content-type":"application/json",...t()},credentials:"include",body:JSON.stringify({name:d})})).ok&&(s(""),await u())}async function f(n,r){(await fetch("".concat(e,"/api/admin/attributes/brands/").concat(n),{method:"PATCH",headers:{"content-type":"application/json",...t()},credentials:"include",body:JSON.stringify(r)})).ok&&await u()}async function h(n){(await fetch("".concat(e,"/api/admin/attributes/brands/").concat(n),{method:"DELETE",credentials:"include",headers:{...t()}})).ok&&await u()}return o.useEffect(()=>{u()},[]),(0,r.jsxs)("section",{style:{background:"#0b0e14",border:"1px solid #1c2333",borderRadius:12,padding:16},children:[(0,r.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:12,justifyContent:"space-between"},children:[(0,r.jsx)("input",{value:c,onChange:e=>l(e.target.value),placeholder:"بحث بالاسم",style:{padding:10,borderRadius:10,background:"#0f1320",border:"1px solid #1c2333",color:"#e2e8f0",width:220}}),(0,r.jsx)("input",{value:d,onChange:e=>s(e.target.value),placeholder:"اسم العلامة",style:{flex:1,padding:10,borderRadius:10,background:"#0f1320",border:"1px solid #1c2333",color:"#e2e8f0"}}),(0,r.jsx)("button",{onClick:p,style:{padding:"10px 14px",background:"#800020",color:"#fff",borderRadius:10},children:"إضافة"})]}),(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:(0,r.jsx)("th",{style:{textAlign:"right",padding:12,borderBottom:"1px solid #1c2333",background:"#0f1320"},children:"الاسم"})})}),(0,r.jsx)("tbody",{children:n.filter(e=>{var t;return!c||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))}).map((e,t)=>(0,r.jsx)("tr",{style:{background:t%2?"#0a0e17":"transparent"},children:(0,r.jsx)("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:(0,r.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,r.jsx)("input",{defaultValue:e.name,onBlur:t=>f(e.id,{name:t.target.value}),style:{padding:8,borderRadius:8,background:"#0f1320",border:"1px solid #1c2333",color:"#e2e8f0"}}),(0,r.jsx)("button",{onClick:()=>h(e.id),style:{padding:"6px 10px",background:"#7c2d12",color:"#fff",borderRadius:8},children:"حذف"})]})})},e.id))})]})]})}function u(){let[e,t]=o.useState("colors");return(0,r.jsxs)("main",{style:{maxWidth:1100,margin:"0 auto",padding:16},children:[(0,r.jsx)("h1",{style:{marginBottom:16,fontSize:22,fontWeight:700},children:"السمات"}),(0,r.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"center",marginBottom:16},children:[(0,r.jsx)(d,{active:"colors"===e,onClick:()=>t("colors"),children:"الألوان"}),(0,r.jsx)(d,{active:"sizes"===e,onClick:()=>t("sizes"),children:"المقاسات"}),(0,r.jsx)(d,{active:"brands"===e,onClick:()=>t("brands"),children:"العلامات التجارية"})]}),"colors"===e&&(0,r.jsx)("div",{style:{marginTop:16},children:(0,r.jsx)(s,{})}),"sizes"===e&&(0,r.jsx)("div",{style:{marginTop:16},children:(0,r.jsx)(c,{})}),"brands"===e&&(0,r.jsx)("div",{style:{marginTop:16},children:(0,r.jsx)(l,{})})]})}},5009:function(e,t,n){"use strict";var r,o;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(4634)},4634:function(e){!function(){var t={229:function(e){var t,n,r,o=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function d(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s=[],c=!1,l=-1;function u(){c&&r&&(c=!1,r.length?s=r.concat(s):l=-1,s.length&&p())}function p(){if(!c){var e=d(u);c=!0;for(var t=s.length;t;){for(r=s,s=[];++l<t;)r&&r[l].run();l=-1,t=s.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new f(e,t)),1!==s.length||c||d(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}},a=!0;try{t[e](i,i.exports,r),a=!1}finally{a&&delete n[e]}return i.exports}r.ab="//";var o=r(229);e.exports=o}()}},function(e){e.O(0,[64,694,744],function(){return e(e.s=7660)}),_N_E=e.O()}]);