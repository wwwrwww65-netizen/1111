(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[375],{9754:function(e,n,i){Promise.resolve().then(i.bind(i,785))},785:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return d}});var t=i(875),a=i(5393);function d(){let[e,n]=a.useState(""),[i,d]=a.useState("");async function o(){n((await (await fetch("/api/admin/2fa/enable",{method:"POST"})).json()).otpauth)}async function r(){await fetch("/api/admin/2fa/verify",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({code:i})}),alert("تم التفعيل")}async function s(){await fetch("/api/admin/2fa/disable",{method:"POST"}),alert("تم التعطيل")}return(0,t.jsxs)("main",{children:[(0,t.jsx)("h1",{style:{marginBottom:16},children:"التحقق بخطوتين (2FA)"}),(0,t.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:12},children:[(0,t.jsx)("button",{onClick:o,style:{padding:"8px 12px",background:"#111827",color:"#e5e7eb",borderRadius:8},children:"توليد مفتاح"}),(0,t.jsx)("button",{onClick:s,style:{padding:"8px 12px",background:"#7c2d12",color:"#fff",borderRadius:8},children:"تعطيل"})]}),e&&(0,t.jsxs)("div",{style:{padding:12,border:"1px solid #1c2333",borderRadius:8},children:[(0,t.jsx)("div",{style:{marginBottom:8},children:"انسخ هذا الرابط لتطبيق المصادقة:"}),(0,t.jsx)("code",{style:{fontSize:12},children:e}),(0,t.jsxs)("div",{style:{marginTop:12,display:"flex",gap:8},children:[(0,t.jsx)("input",{value:i,onChange:e=>d(e.target.value),placeholder:"رمز 2FA",style:{padding:8,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}}),(0,t.jsx)("button",{onClick:r,style:{padding:"8px 12px",background:"#064e3b",color:"#e5e7eb",borderRadius:8},children:"تحقق"})]})]})]})}}},function(e){e.O(0,[64,694,744],function(){return e(e.s=9754)}),_N_E=e.O()}]);