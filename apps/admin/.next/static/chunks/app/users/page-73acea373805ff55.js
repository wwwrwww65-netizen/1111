(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{8933:function(e,t,s){Promise.resolve().then(s.bind(s,6557))},6557:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d},dynamic:function(){return o}});var r=s(875),n=s(5393);function i(e){let{apiBase:t,authHeaders:s}=e,[i,a]=n.useState([]),[o,d]=n.useState([]),[l,c]=n.useState({}),[u,p]=n.useState(""),[h,g]=n.useState(""),[x,m]=n.useState("users"),[b,f]=n.useState(""),[y,j]=n.useState(""),[v,k]=n.useState([]),[w,C]=n.useState({});async function S(){let[e,r]=await Promise.all([fetch("".concat(t,"/api/admin/roles"),{credentials:"include",headers:{...s()},cache:"no-store"}).then(e=>e.json()).catch(()=>({roles:[]})),fetch("".concat(t,"/api/admin/permissions"),{credentials:"include",headers:{...s()},cache:"no-store"}).then(e=>e.json()).catch(()=>({permissions:[],groups:{}}))]);if(a(e.roles||[]),d(r.permissions||[]),c(r.groups||{}),r.groups&&!Object.keys(r.groups).includes(x)){let e=Object.keys(r.groups)[0];e&&m(e)}}async function R(){u.trim()&&(await fetch("".concat(t,"/api/admin/roles"),{method:"POST",headers:{"content-type":"application/json",...s()},credentials:"include",body:JSON.stringify({name:u.trim()})}),p(""),await S())}async function T(e,r){await fetch("".concat(t,"/api/admin/roles/").concat(e,"/permissions"),{method:"POST",headers:{"content-type":"application/json",...s()},credentials:"include",body:JSON.stringify({permissionIds:r})}),await S()}async function N(){let e=new URL("".concat(t,"/api/admin/users/list"));e.searchParams.set("page","1"),e.searchParams.set("limit","50"),y&&e.searchParams.set("search",y),k((await (await fetch(e.toString(),{credentials:"include",headers:{...s()},cache:"no-store"})).json()).users||[]),C({})}async function B(){if(b)for(let e of Object.entries(w).filter(e=>{let[,t]=e;return t}).map(e=>{let[t]=e;return t}))await fetch("".concat(t,"/api/admin/users/").concat(e,"/assign-roles"),{method:"POST",headers:{"content-type":"application/json",...s()},credentials:"include",body:JSON.stringify({roleIds:[b]})})}n.useEffect(()=>{S()},[t]);let A={users:"صلاحيات المستخدمين",orders:"صلاحيات الطلبات",shipments:"صلاحيات الشحنات",drivers:"صلاحيات السائقين",carriers:"صلاحيات المزودين",products:"صلاحيات المنتجات",categories:"صلاحيات التصنيفات",coupons:"صلاحيات الكوبونات",inventory:"صلاحيات المخزون",reviews:"صلاحيات المراجعات",media:"صلاحيات الوسائط",cms:"صلاحيات CMS",analytics:"صلاحيات الإحصاءات",settings:"صلاحيات الإعدادات",backups:"صلاحيات النسخ الاحتياطي",audit:"صلاحيات سجل التدقيق",tickets:"صلاحيات التذاكر"},O=n.useMemo(()=>{let e=new Set;for(let t of l[x]||[])e.add(t.key);return e},[l,x]),E=n.useMemo(()=>o.filter(e=>(!O.size||!!O.has(e.key))&&(!h||e.key.toLowerCase().includes(h.toLowerCase()))),[o,h,O]),P=n.useMemo(()=>i.find(e=>e.id===b),[i,b]),I=new Set(((null==P?void 0:P.permissions)||[]).map(e=>e.id));return(0,r.jsxs)("section",{className:"panel",style:{marginTop:16},children:[(0,r.jsx)("h3",{style:{marginTop:0},children:"إدارة الصلاحيات"}),(0,r.jsx)("div",{style:{display:"flex",gap:8,marginBottom:12,flexWrap:"wrap"},children:Object.keys(l).map(e=>(0,r.jsx)("button",{className:"icon-btn","aria-pressed":x===e,onClick:()=>m(e),style:{background:x===e?"#101828":"var(--muted2)"},children:A[e]||e},e))}),(0,r.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"1fr 2fr",gap:16},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"1fr auto",gap:8,marginBottom:8},children:[(0,r.jsx)("input",{className:"input",placeholder:"اسم الدور",value:u,onChange:e=>p(e.target.value)}),(0,r.jsx)("button",{className:"btn",onClick:R,children:"إضافة دور"})]}),(0,r.jsx)("div",{style:{maxHeight:300,overflow:"auto"},children:i.map(e=>(0,r.jsx)("div",{onClick:()=>f(e.id),style:{padding:10,border:"1px solid var(--muted)",borderRadius:8,marginBottom:8,background:b===e.id?"#101828":"transparent",cursor:"pointer"},children:e.name},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"1fr auto",gap:8,marginBottom:8},children:[(0,r.jsx)("input",{className:"input",placeholder:"بحث صلاحيات",value:h,onChange:e=>g(e.target.value)}),(0,r.jsx)("button",{className:"icon-btn",onClick:()=>g(""),children:"مسح"})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:8},children:[(0,r.jsx)("button",{className:"icon-btn",onClick:()=>{b&&T(b,E.map(e=>e.id))},children:"تحديد الكل في القسم"}),(0,r.jsx)("button",{className:"icon-btn",onClick:()=>{b&&T(b,[])},children:"إلغاء تحديد الكل"})]}),(0,r.jsx)("div",{style:{maxHeight:320,overflow:"auto",border:"1px solid var(--muted)",borderRadius:8,padding:8},children:(0,r.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:12},children:E.map(e=>{let t=I.has(e.id);return(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 4px"},children:[(0,r.jsx)("input",{type:"checkbox",checked:t,onChange:t=>{let s=new Set(I);t.target.checked?s.add(e.id):s.delete(e.id),T(b,Array.from(s))}}),(0,r.jsx)("span",{children:(A[e.key.split(".")[0]]||e.key.split(".")[0])+" — "+e.key.split(".")[1]})]},e.id)})})}),(0,r.jsxs)("div",{style:{marginTop:12},children:[(0,r.jsx)("div",{style:{color:"var(--sub)",marginBottom:6},children:"إسناد الدور للمستخدمين"}),(0,r.jsxs)("div",{className:"grid",style:{gridTemplateColumns:"1fr auto",gap:8,marginBottom:8},children:[(0,r.jsx)("input",{className:"input",placeholder:"بحث مستخدمين",value:y,onChange:e=>j(e.target.value)}),(0,r.jsx)("button",{className:"btn",onClick:N,children:"بحث"})]}),(0,r.jsx)("div",{style:{maxHeight:220,overflow:"auto",border:"1px solid var(--muted)",borderRadius:8},children:v.map(e=>(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px"},children:[(0,r.jsx)("input",{type:"checkbox",checked:!!w[e.id],onChange:()=>C(t=>({...t,[e.id]:!t[e.id]}))}),(0,r.jsxs)("span",{children:[e.name||"-"," — ",e.email]})]},e.id))}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:(0,r.jsx)("button",{className:"btn",onClick:B,children:"إسناد الدور للمختارين"})})]})]})]})]})}var a=s(5009);let o="force-dynamic";function d(){let e=n.useMemo(()=>a.env.NEXT_PUBLIC_API_BASE_URL||window.location.origin.replace("jeeey-manger","jeeeyai"),[]),t=n.useCallback(()=>{if("undefined"==typeof document)return{};let e=document.cookie.match(/(?:^|; )auth_token=([^;]+)/);return e?{Authorization:"Bearer ".concat(decodeURIComponent(e[1]))}:{}},[]),[s,o]=n.useState(1),[d,u]=n.useState(""),[p,h]=n.useState([]),[g,x]=n.useState("MANAGER"),[m,b]=n.useState({}),[f,y]=n.useState("users"),[j,v]=n.useState(!1),[k,w]=n.useState(""),C=e=>{w(e),setTimeout(()=>w(""),1800)};async function S(){let r=new URL("".concat(e,"/api/admin/users/list"));r.searchParams.set("page",String(s)),r.searchParams.set("limit","20"),d&&r.searchParams.set("search",d),"admins"===f?r.searchParams.set("role","ADMIN"):"users"===f?r.searchParams.set("role","USER"):"vendors"===f&&r.searchParams.set("role","VENDOR");let n=await fetch(r.toString(),{credentials:"include",headers:{...t()},cache:"no-store"});h((await n.json()).users||[])}async function R(s){await fetch("".concat(e,"/api/admin/users/assign-role"),{method:"POST",headers:{"content-type":"application/json",...t()},credentials:"include",body:JSON.stringify({userId:s,roleName:g})}),await S()}async function T(){for(let e of p.filter(e=>m[e.id]).map(e=>e.id))await R(e)}return n.useEffect(()=>{S()},[s,e,f,d]),(0,r.jsxs)("main",{style:{padding:16},children:[k&&(0,r.jsx)("div",{style:{marginBottom:8,background:"#111827",color:"#e5e7eb",padding:"6px 10px",borderRadius:8},children:k}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:8,marginBottom:12},children:[(0,r.jsx)("button",{onClick:()=>{y("users"),o(1),S()},style:{padding:"8px 14px",borderRadius:999,background:"users"===f?"#800020":"#111827",color:"#e5e7eb",border:"1px solid #1c2333"},children:"المستخدمون"}),(0,r.jsx)("button",{onClick:()=>{y("vendors"),o(1),S()},style:{padding:"8px 14px",borderRadius:999,background:"vendors"===f?"#800020":"#111827",color:"#e5e7eb",border:"1px solid #1c2333"},children:"المورّدون"}),(0,r.jsx)("button",{onClick:()=>{y("admins"),o(1),S()},style:{padding:"8px 14px",borderRadius:999,background:"admins"===f?"#800020":"#111827",color:"#e5e7eb",border:"1px solid #1c2333"},children:"الإدارة"}),(0,r.jsx)("button",{onClick:()=>{y("permissions")},style:{padding:"8px 14px",borderRadius:999,background:"permissions"===f?"#800020":"#111827",color:"#e5e7eb",border:"1px solid #1c2333"},children:"الصلاحيات"})]}),"permissions"!==f&&(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,r.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,r.jsx)("input",{value:d,onChange:e=>u(e.target.value),placeholder:"بحث بالاسم/البريد/الهاتف",style:{padding:8,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}}),(0,r.jsx)("button",{onClick:()=>{o(1),S()},style:{padding:"8px 12px",background:"#111827",color:"#e5e7eb",borderRadius:8},children:"بحث"})]}),(0,r.jsx)("button",{onClick:()=>v(!0),style:{padding:"8px 12px",background:"#800020",color:"#fff",borderRadius:8},children:"إضافة حساب"})]}),"permissions"!==f&&(0,r.jsx)("div",{style:{display:"flex",gap:8,marginBottom:12},children:(0,r.jsxs)("select",{value:g,onChange:e=>x(e.target.value),style:{padding:8,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"},children:[(0,r.jsx)("option",{value:"MANAGER",children:"MANAGER"}),(0,r.jsx)("option",{value:"OPERATOR",children:"OPERATOR"}),(0,r.jsx)("option",{value:"ADMIN",children:"ADMIN"})]})}),"permissions"!==f&&(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"}}),(0,r.jsx)("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"},children:"البريد"}),(0,r.jsx)("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"},children:"الاسم"}),(0,r.jsx)("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"},children:"الهاتف"}),(0,r.jsx)("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"},children:"الدور"}),(0,r.jsx)("th",{style:{textAlign:"right",borderBottom:"1px solid #1c2333",padding:12,background:"#0f1320"},children:"إجراءات"})]})}),(0,r.jsx)("tbody",{children:p.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:(0,r.jsx)("input",{type:"checkbox",checked:!!m[e.id],onChange:()=>b(t=>({...t,[e.id]:!t[e.id]}))})}),(0,r.jsx)("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:e.email}),(0,r.jsx)("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:e.name}),(0,r.jsx)("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:e.phone||"-"}),(0,r.jsx)("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:e.role}),(0,r.jsx)("td",{style:{padding:12,borderBottom:"1px solid #1c2333"},children:(0,r.jsxs)("button",{onClick:()=>R(e.id),style:{padding:"6px 10px",background:"#111827",color:"#e5e7eb",borderRadius:6},children:["إسناد ",g]})})]},e.id))})]}),"permissions"!==f&&(0,r.jsx)("div",{style:{marginTop:12},children:(0,r.jsx)("button",{onClick:T,style:{padding:"8px 12px",background:"#064e3b",color:"#e5e7eb",borderRadius:8},children:"إسناد جماعي"})}),"permissions"===f&&(0,r.jsx)(i,{apiBase:e,authHeaders:t}),j&&(0,r.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"grid",placeItems:"center",zIndex:50},children:(0,r.jsxs)("div",{style:{width:520,background:"#0f1420",border:"1px solid #1c2333",borderRadius:12,padding:16},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[(0,r.jsx)("h3",{style:{margin:0},children:"إضافة حساب"}),(0,r.jsx)("button",{onClick:()=>v(!1),style:{padding:"6px 10px",background:"#111827",color:"#e5e7eb",borderRadius:6},children:"إغلاق"})]}),"vendors"===f?(0,r.jsx)(c,{onDone:async()=>{v(!1),C("تمت الإضافة"),await S()},apiBase:e,authHeaders:t}):(0,r.jsx)(l,{role:"admins"===f?"ADMIN":"USER",onDone:async()=>{v(!1),C("تمت الإضافة"),await S()},apiBase:e,authHeaders:t})]})})]})}function l(e){let{role:t,onDone:s,apiBase:i,authHeaders:a}=e,[o,d]=n.useState(""),[l,c]=n.useState(""),[u,p]=n.useState(""),[h,g]=n.useState(""),[x,m]=n.useState(""),[b,f]=n.useState(""),[y,j]=n.useState(""),[v,k]=n.useState(!1),[w,C]=n.useState(""),S=n.useMemo(()=>[{value:"USER",label:"USER"},{value:"ADMIN",label:"ADMIN"}].filter(e=>!y||e.label.toLowerCase().includes(y.toLowerCase())),[y]);async function R(e){if(e.preventDefault(),!v){k(!0),C("");try{let e=await fetch("".concat(i,"/api/admin/users"),{method:"POST",headers:{"content-type":"application/json",...a()},credentials:"include",body:JSON.stringify({name:o,phone:l,role:t,email:u,username:h,address:x,password:b})});if(!e.ok){let t="تعذّر إنشاء الحساب";try{let s=await e.json();(null==s?void 0:s.error)==="required_fields"?t="الحقول المطلوبة مفقودة (كلمة السر + بريد/اسم مستخدم/هاتف)":(null==s?void 0:s.message)&&(t=s.message)}catch(e){}C(t);return}d(""),c(""),p(""),g(""),m(""),f(""),await s()}finally{k(!1)}}}return(0,r.jsxs)("form",{onSubmit:R,style:{display:"grid",gap:10},children:[w&&(0,r.jsx)("div",{style:{background:"#7f1d1d",color:"#fee2e2",padding:"8px 10px",borderRadius:8},children:w}),(0,r.jsxs)("label",{children:["الاسم",(0,r.jsx)("input",{value:o,onChange:e=>d(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["رقم الهاتف",(0,r.jsx)("input",{value:l,onChange:e=>c(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["البريد أو اسم المستخدم",(0,r.jsx)("input",{autoComplete:"username email",value:u||h,onChange:e=>{p(e.target.value),g(e.target.value)},style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["العنوان (الموقع داخل المدينة)",(0,r.jsx)("input",{autoComplete:"street-address",value:x,onChange:e=>m(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["كلمة السر",(0,r.jsx)("input",{autoComplete:"new-password",type:"password",value:b,onChange:e=>f(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{marginBottom:6,color:"#9ca3af"},children:"نوع الحساب"}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px",gap:8},children:[(0,r.jsx)("select",{value:t,onChange:e=>{},disabled:!0,style:{padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"},children:S.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,r.jsx)("input",{placeholder:"بحث نوع الحساب",value:y,onChange:e=>j(e.target.value),style:{padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]})]}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:(0,r.jsx)("button",{type:"submit",disabled:v,style:{padding:"8px 12px",background:v?"#4b5563":"#800020",color:"#fff",borderRadius:8},children:v?"جارٍ الإضافة...":"إضافة"})})]})}function c(e){let{onDone:t,apiBase:s,authHeaders:i}=e,[a,o]=n.useState(""),[d,l]=n.useState(""),[c,u]=n.useState(""),[p,h]=n.useState([]),[g,x]=n.useState(!1),[m,b]=n.useState("");async function f(e){if(e.preventDefault(),g)return;x(!0),b("");let r={password:d,vendorId:c};/@/.test(a)?r.email=a:/^\+?\d/.test(a)?r.phone=a:r.username=a;try{if(!r.vendorId){b("اختر مورّداً");return}if(!r.password||!(r.email||r.username||r.phone)){b("الحقول المطلوبة مفقودة (كلمة السر + معرف)");return}let e=await fetch("".concat(s,"/api/admin/users"),{method:"POST",headers:{"content-type":"application/json",...i()},credentials:"include",body:JSON.stringify(r)});if(!e.ok){let t="تعذّر إنشاء الحساب للمورّد";try{let s=await e.json();(null==s?void 0:s.error)==="required_fields"?t="الحقول المطلوبة مفقودة (كلمة السر + معرف)":(null==s?void 0:s.message)&&(t=s.message)}catch(e){}b(t);return}o(""),l(""),u(""),await t()}finally{x(!1)}}return n.useEffect(()=>{(async()=>{try{let e=await (await fetch("".concat(s,"/api/admin/vendors/list"),{credentials:"include",headers:{...i()}})).json();h(e.vendors||[])}catch(e){}})()},[s]),(0,r.jsxs)("form",{onSubmit:f,style:{display:"grid",gap:10},children:[m&&(0,r.jsx)("div",{style:{background:"#7f1d1d",color:"#fee2e2",padding:"8px 10px",borderRadius:8},children:m}),(0,r.jsxs)("label",{children:["المستخدم/الهاتف",(0,r.jsx)("input",{value:a,onChange:e=>o(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["كلمة السر",(0,r.jsx)("input",{autoComplete:"new-password",type:"password",value:d,onChange:e=>l(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}})]}),(0,r.jsxs)("label",{children:["المورّد",(0,r.jsxs)("select",{value:c,onChange:e=>u(e.target.value),style:{width:"100%",padding:10,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"},children:[(0,r.jsx)("option",{value:"",children:"اختر مورّداً"}),p.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:(0,r.jsx)("button",{type:"submit",disabled:g,style:{padding:"8px 12px",background:g?"#4b5563":"#800020",color:"#fff",borderRadius:8},children:g?"جارٍ الإضافة...":"إضافة"})})]})}},5009:function(e,t,s){"use strict";var r,n;e.exports=(null==(r=s.g.process)?void 0:r.env)&&"object"==typeof(null==(n=s.g.process)?void 0:n.env)?s.g.process:s(4634)},4634:function(e){!function(){var t={229:function(e){var t,s,r,n=e.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{s="function"==typeof clearTimeout?clearTimeout:a}catch(e){s=a}}();var d=[],l=!1,c=-1;function u(){l&&r&&(l=!1,r.length?d=r.concat(d):c=-1,d.length&&p())}function p(){if(!l){var e=o(u);l=!0;for(var t=d.length;t;){for(r=d,d=[];++c<t;)r&&r[c].run();c=-1,t=d.length}r=null,l=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];d.push(new h(e,t)),1!==d.length||l||o(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},s={};function r(e){var n=s[e];if(void 0!==n)return n.exports;var i=s[e]={exports:{}},a=!0;try{t[e](i,i.exports,r),a=!1}finally{a&&delete s[e]}return i.exports}r.ab="//";var n=r(229);e.exports=n}()}},function(e){e.O(0,[64,694,744],function(){return e(e.s=8933)}),_N_E=e.O()}]);