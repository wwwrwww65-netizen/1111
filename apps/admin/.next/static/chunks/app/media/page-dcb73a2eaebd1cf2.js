(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[990],{8577:function(e,t,i){Promise.resolve().then(i.bind(i,146))},146:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return s}});var a=i(875),n=i(5393);function s(){let[e,t]=n.useState([]),[i,s]=n.useState(""),[r,l]=n.useState(null);async function d(){let e={url:i,type:"image"};r&&(e={base64:await new Promise((e,t)=>{let i=new FileReader;i.onload=()=>e(String(i.result)),i.onerror=t,i.readAsDataURL(r)}),type:"image"}),await fetch("/api/admin/media",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}),s(""),l(null),t((await (await fetch("/api/admin/media/list")).json()).assets||[])}return n.useEffect(()=>{fetch("/api/admin/media/list").then(e=>e.json()).then(e=>t(e.assets||[]))},[]),(0,a.jsxs)("main",{children:[(0,a.jsx)("h1",{style:{marginBottom:16},children:"الوسائط"}),(0,a.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:12},children:[(0,a.jsx)("input",{value:i,onChange:e=>s(e.target.value),placeholder:"https://...",style:{padding:8,borderRadius:8,background:"#0b0e14",border:"1px solid #1c2333",color:"#e2e8f0"}}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;return l((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)}}),(0,a.jsx)("button",{onClick:d,style:{padding:"8px 12px",background:"#111827",color:"#e5e7eb",borderRadius:8},children:"إضافة"})]}),(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:e.map(e=>(0,a.jsx)("div",{style:{border:"1px solid #1c2333",borderRadius:8,overflow:"hidden"},children:(0,a.jsx)("img",{src:e.url,alt:e.alt||"",style:{width:"100%",height:140,objectFit:"cover"}})},e.id))})]})}}},function(e){e.O(0,[64,694,744],function(){return e(e.s=8577)}),_N_E=e.O()}]);