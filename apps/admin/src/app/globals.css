:root{
  /* Colors */
  --bg:#0b0e14; --panel:#0f1420; --muted:#1c2333; --muted2:#101828; --text:#e2e8f0; --sub:#9ca3af;
  --primary:#0B5FFF; --ok:#16A34A; --warn:#F59E0B; --err:#E02424; --neutral:#e5e7eb;
  /* spacing scale (4px base) */
  --sp-4:4px; --sp-8:8px; --sp-12:12px; --sp-16:16px; --sp-20:20px; --sp-24:24px; --sp-32:32px; --sp-40:40px; --sp-48:48px; --sp-64:64px;
  /* radii */
  --radius-4:4px; --radius-8:8px; --radius-card:8px; --radius-btn:8px; --radius-thumb:6px;
  /* typography */
  --fz-h1:22px; --fz-h2:18px; --fz-h3:16px; --fz-body:14px; --fz-small:12px; --lh-body:20px;
  /* layout */
  --container-max:1280px; --grid-gutter:24px;
  /* inputs/buttons */
  --input-h:40px; --input-px:12px; --btn-sm-h:32px; --btn-md-h:40px; --btn-lg-h:48px; --btn-sm-px:8px; --btn-md-px:12px; --btn-lg-px:16px;
}
html,body{background:var(--bg);color:var(--text);font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;font-size:var(--fz-body);line-height:var(--lh-body)}
.app-root{min-height:100vh}
.theme-light{--bg:#ffffff; --panel:#f9fafb; --muted:#e5e7eb; --muted2:#f3f4f6; --text:#0f172a; --sub:#475569}
.theme-dark{--bg:#0b0e14; --panel:#0f1420; --muted:#1c2333; --muted2:#101828; --text:#e2e8f0; --sub:#9ca3af}
.topbar{position:sticky;top:0;z-index:40;display:flex;align-items:center;gap:12px;height:64px;padding:0 24px;background:#fff;color:#0f172a;border-bottom:1px solid #e5e7eb}
.topbar .brand{font-weight:800;letter-spacing:.5px}
.top-actions{margin-inline-start:auto;display:flex;align-items:center;gap:12px}
.top-actions .search{max-width:520px;width:100%}
.top-actions .search input{background:#ffffff;border:1px solid #e5e7eb;color:#0f172a;padding:0 12px;border-radius:8px;min-width:240px;height:40px}
.icon-btn{background:var(--muted2);border:1px solid var(--muted);color:var(--text);border-radius:8px;padding:6px 10px}
.icon-btn:hover{background:#121a2a}
.shell{display:grid;grid-template-columns:auto 1fr;min-height:calc(100vh - 64px)}
.sidebar{background:var(--panel);border-inline-end:1px solid var(--muted);padding:16px;transition:width .2s ease;overflow:auto;width:260px}
.sidebar.open{width:260px}
.sidebar:not(.open){width:260px}
.sidebar.collapsed{width:72px}
.sidebar nav{display:grid;gap:6px}
.nav-item{display:flex;align-items:center;gap:10px;padding:10px 12px;border:1px solid transparent;border-radius:10px;color:var(--text);text-decoration:none;background:transparent}
.nav-item:hover{background:#101828;border-color:#1f2937}
.nav-item.active{background:linear-gradient(180deg,#0c1220,#0a0f1a);border-color:#233046}
.content{padding:20px}
.container{max-width:var(--container-max);margin:0 auto}
.panel{background:var(--panel);border:1px solid var(--muted);border-radius:var(--radius-card);padding:16px;box-shadow:0 6px 20px rgba(0,0,0,.2)}
.btn{background:var(--primary);border:0;color:#fff;border-radius:var(--radius-btn)}
.btn:hover{filter:brightness(0.95)}
.btn-sm{height:var(--btn-sm-h);padding:0 var(--btn-sm-px);font-size:12px}
.btn-md{height:var(--btn-md-h);padding:0 var(--btn-md-px);font-size:14px}
.btn-lg{height:var(--btn-lg-h);padding:0 var(--btn-lg-px);font-size:16px}
.btn.btn-outline{background:transparent;border:1px solid var(--muted);color:var(--text)}
.btn:hover{background:var(--brand-2)}
.input{background:#0b0f1a;border:1px solid var(--muted);color:var(--text);padding:0 var(--input-px);border-radius:var(--radius-btn);height:var(--input-h)}
.select{background:#0b0f1a;border:1px solid var(--muted);color:var(--text);padding:0 var(--input-px);border-radius:var(--radius-btn);height:var(--input-h);min-width:240px}
.grid{display:grid;gap:12px}
.grid.cols-2{grid-template-columns:1fr 1fr}
.grid.cols-3{grid-template-columns:repeat(3,1fr)}
.card{background:var(--panel);border:1px solid var(--muted);border-radius:var(--radius-card);padding:16px;box-shadow:0 6px 20px rgba(0,0,0,.2)}

/* Tables */
.table{width:100%;border-collapse:separate;border-spacing:0}
.table th{height:56px;text-align:right;vertical-align:middle;font-weight:600;background:#0f1320;border-bottom:1px solid var(--muted);padding:0 12px}
.table td{height:56px;vertical-align:middle;border-bottom:1px solid var(--muted);padding:0 12px}
.badge{display:inline-flex;align-items:center;height:24px;padding:0 10px;border-radius:6px;font-size:12px;border:1px solid var(--muted)}
.badge.ok{background:rgba(22,163,74,.1);border-color:#14532d;color:#22c55e}
.badge.warn{background:rgba(245,158,11,.1);border-color:#92400e;color:#f59e0b}
.badge.err{background:rgba(224,36,36,.1);border-color:#7f1d1d;color:#ef4444}

/* Toolbar / filters */
.toolbar{display:flex;align-items:center;gap:12px;height:56px}
.toolbar .search{min-width:240px}
.toolbar .filter{width:220px}

/* Pagination */
.pagination{display:flex;align-items:center;gap:8px;justify-content:flex-end}
.pagination .per-page{width:44px;height:44px;text-align:center}

/* Modals */
.modal{position:fixed;inset:0;display:grid;place-items:center;background:rgba(0,0,0,.5);z-index:60}
.modal .dialog{width:100%;max-width:720px;background:var(--panel);border:1px solid var(--muted);border-radius:12px;padding:20px}
.modal .title{font-size:18px;margin:0 0 12px}

/* Thumbnails */
.thumb{width:64px;height:64px;border-radius:var(--radius-thumb);object-fit:cover;border:1px solid var(--muted)}

/* Accessibility */
*:focus{outline:2px solid #a51c3c;outline-offset:2px}

/* Dropzone */
.dropzone{border:2px dashed var(--muted);border-radius:12px;padding:16px;background:#0b0f1a;color:var(--sub);text-align:center}
.dropzone .counter{font-size:12px;color:var(--sub);margin-top:6px}

/* Toast */
.toast{position:fixed;right:16px;bottom:16px;background:#111827;border:1px solid var(--muted);color:var(--text);padding:10px 14px;border-radius:10px;z-index:70;box-shadow:0 6px 20px rgba(0,0,0,.3)}
.toast.ok{border-color:#14532d;background:#052e16}
.toast.err{border-color:#7f1d1d;background:#2a0f0f}

/* Collapsible */
.collapsible{overflow:hidden;transition:max-height .25s ease, opacity .25s ease}
.collapsible.closed{max-height:0;opacity:0}
.collapsible.open{max-height:1200px;opacity:1}

/* Tabs (mobile) */
.tabs{display:none;gap:8px;margin-bottom:12px}
.tabs .tab{flex:1;background:#0f1320;border:1px solid var(--muted);color:var(--text);border-radius:999px;padding:8px 12px;text-align:center}
.tabs .tab.active{background:var(--brand)}

/* Progress bar */
.progress{height:6px;background:#101828;border:1px solid var(--muted);border-radius:999px;overflow:hidden}
.progress .bar{height:100%;background:linear-gradient(90deg,var(--brand),var(--brand-2));width:0;transition:width .2s ease}

/* Chips */
.chip{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#111827;border:1px solid var(--muted);color:var(--text)}

/* Highlights */
.highlight{animation:highlightFade 1.8s ease}
@keyframes highlightFade{0%{box-shadow:0 0 0 2px var(--brand-2) inset}100%{box-shadow:none}}

/* Auto-fill badge */
.auto-filled{display:inline-flex;align-items:center;gap:8px;background:#111827;border:1px solid var(--muted);color:var(--text);padding:6px 10px;border-radius:8px;margin-bottom:8px}

@media (max-width:1023px){
  .content{padding:16px}
}
@media (max-width:767px){
  .shell{grid-template-columns:1fr}
  .sidebar{position:fixed;inset:64px 0 0 auto;z-index:60;transform:translateX(0);max-width:80%;}
  .content{padding:12px}
}
